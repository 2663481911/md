# vim的使用

[TOC]



## 模式

### 一般模式

> 在终端输入vim xxx，进入就是一般模式
>
#### 切换

- 编辑模式 按`ESC`键 切换到一般模式

- 可视模式切换到一般模式
| 按键  | 描述                                     | 助记 |
| ----- | ---------------------------------------- | ---- |
| `y`   | 复制当前选择区域，并退出可视模式         | yank |
| `Y`   | 复制当前选择区域（按行），并退出可视模式 | Yank |
| `ESC` | 直接退出可视模式                         |      |



### 可视模式

> 一般用于选择
#### 切换

- 一般模式切换到可视模式
| 按键     | 描述                                                         | 助记   |
| -------- | ------------------------------------------------------------ | ------ |
| `v`      | 选中当前光标字符，并进入可视模式，移动光标按字符选择。类似于在普通编辑器里按住鼠标左键移动鼠标进行选择 | visual |
| `V`      | 移动光标按行选择                                             | Visual |
| `ctrl+v` | 块选择模式，此时移动光标会选择一个矩形块                     |        |



### 编辑模式（插入模式）

> 按键输入字符

#### 切换

 - 一般模式切换到编辑模式

| 按键 | 描述                 | 助记   |
| :--: | -------------------- | ------ |
| `i`  | 在当前光标字符前插入 | insert |
| `a`  | 在当前光标字符后插入 | append |
| `I`  | 在当前行首插入       | Insert |
| `A`  | 在当前行尾插入       | Append |
| `o`  | 在下方开一新行，插入 | open   |
| `O`  | 在上方开一新行       | Open   |

 - 可视模式切换到编辑模式：

| 按键 | 描述                                 | 助记   |
| ---- | ------------------------------------ | ------ |
| `s`  | 删除当前已选择的内容，并进入插入模式 |        |
| `c`  | 删除当前已选择的内容，并进入插入模式 | change |
| `di` | 删除当前已选择的内容，并进入插入模式 |        |


## 常用操作（一般模式下）

#### 保存、退出

- `:w` 保存
- `:q ` 退出不保存
- `:wq` 保存并退出
- `:q!` 强制退出，不保存

#### 显示行号

- `:set nu `显示行号
- `:set nonu` 隐藏行号

## 常用快捷键(一般模式下)

#### 拷贝

- `yy` 拷贝当前行，
- `5yy` 拷贝当前向下5行

#### 粘贴

- `p`

#### 删除

- `dd` 删除当前行
- `5dd` 删除当前向下5行
- `x` 删除光标所在字符

#### 查找

- `/ + 关键字`，回车查找，输入n查找下一个，例查找hello：`/hello`

#### 撤销

- `u`

#### 重做

- `ctrl + r` 重做上一次修改，`u` 的逆过程

#### 移动光标

- | 按键    | 描述                                |
  | ------- | ----------------------------------- |
  | `h`     | 光标左移                            |
  | `j`     | 光标下移                            |
  | `k`     | 光标上移                            |
  | `l`     | 光标右移                            |
  | n + `h` | 光标左移 n 个位置 ，n(umber) 指数字 |
  | n + `j` | 光标下移 n 个位置 ，n(umber) 指数字 |
  | n + `k` | 光标上移 n 个位置 ，n(umber) 指数字 |
  | n + `l` | 光标右移 n 个位置 ，n(umber) 指数字 |
  | n + `G` | 光标移动第n行                       |
  | `gg`    | 光标移动到等一行                    |
  | `G `    | 移动到最后一行                      |
  | `0`     | 跳到行首                            |
  | `^`     | 跳到行首开始的第一个非空白字符      |
  | `$`     | 跳到行尾                            |
  | `w`     | 跳到下一个词首                      |
  | `b`     | 跳到上一个词首                      |
  | `e`     | 跳到下一个词尾                      |
  | `ge`    | 跳到上一个词尾                      |
  |         |                                     |
  


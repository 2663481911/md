### python正则

`.`  : 在默认模式，匹配`除了换行`的任意字符， 可以指定`re.S`让`.`匹配全部字符

```python
d = '\n'
r1 = re.search('.', d, re.S)   # 可以匹配\n
r2 = re.search('.', d)   # 匹配不到\n
r1, r2   # (<re.Match object; span=(0, 1), match='\n'>, None)
```

`*` : 对它前面的正则式匹配`0到任意次`重复， 尽量多的匹配字符串

`?` : 对它前面的正则式匹配`0到1次`重复

`+` : 对它前面的正则式匹配`1到任意次`重复。

`|` ：匹配多个正则表达式

比如图片有 jpg，gif等格式

```python
'jpg|gif'   # 匹配jpg或gif
'png|webp'   # 匹配png或webp
```

`^` : 从字符串`开头`开始匹配， 在`[]`内表示否定，`[^\t\n]`:除制表符和换行符以外的任意一个字符  

`$` : 匹配字符串的`结尾`

```python
s = 'www.baidu.com'
re.search('^www', s)   # <re.Match object; span=(0, 3), match='www'>
re.search('^baidu', s)   # None
re.search('com$', s)   # <re.Match object; span=(10, 13), match='com'>
re.search('www$', s)    # None
re.search('^www.*?com$', s)   
# <re.Match object; span=(0, 13), match='www.baidu.com'>
```

`[]` : 用于表示一个字符集合，可以匹配里面的任意字符

`-` : 在`[]`中可以表示字符范围，通过用 `'-'` 将两个字符连起来。比如 `[a-z]` 将匹配任何小写ASCII字符， `[0-5][0-9]` 将匹配从 `00` 到 `59` 的两位数字， `[0-9A-Fa-f]` 将匹配任何十六进制数位。 如果 `-` 进行了转义 （比如 `[a\-z]`）或者它的位置在首位或者末尾（如 `[-a]` 或 `[a-]`），它就只表示普通字符 `'-'`。

`{m}` : 对其之前的正则式指定匹配 *m* 个重复；少于 *m* 的话就会导致匹配失败。比如， `a{6}` 将匹配6个 `'a'` , 但是不能是5个。

`{m,n}` : 对正则式进行 *m* 到 *n* 次匹配，在 *m* 和 *n* 之间`取尽量多`。 比如，`a{3,5}` 将匹配 3 到 5个 `'a'`。忽略 *m* 意为指定下界为0，忽略 *n* 指定上界为无限次。 比如 `a{4,}b` 将匹配`至少4 个a`尾随一个 `b`。逗号不能省略，否则无法辨别修饰符应该忽略哪个边界。

`{m, n}?` : 非贪婪模式，只匹配`尽量少`的字符次数

### (非)贪婪模式

> 贪婪模式: 尽可能`多`的匹配
>
> 非贪婪模式 : 尽量 `少`的匹配: 在修饰符之后添加 `?` 

例子：

```
st = '<h1>title</h1>'
re.findall('<.*>', st)[0]   # <h1>title</h1>  ,贪婪模式
re.findall('<.*?>', st)[0]   # <h1>， 非贪婪模式
```

`\d`: 

> 对于 Unicode (str) 样式：匹配任何Unicode十进制数（就是在Unicode字符目录[Nd]里的字符）。这包括了 `[0-9]` ，和很多其他的数字字符。如果设置了 `ASCII`标志，就只匹配 `[0-9]` 。
>
> 对于8位(bytes)样式：匹配任何十进制数，就是 `[0-9]`。

`\D`

> 匹配任何非十进制数字的字符。就是 `\d` 取非。 如果设置了 `ASCII` 标志，就相当于 `[^0-9]` 

`\s`：一般匹配空白字符

`\S`:  一般匹配非空白字符

`\w` :  一般匹配数字和字母和下划线，就是 `[a-zA-Z0-9_]`

`\W`：匹配任何不是单词字符的字符